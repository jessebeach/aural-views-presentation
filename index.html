<!doctype html>
<html lang="en">

  <head>
    <meta charset="utf-8">

    <title>reveal.js - The HTML Presentation Framework</title>

    <meta name="description" content="A framework for easily creating beautiful presentations using HTML">
    <meta name="author" content="Hakim El Hattab">

    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <link rel="stylesheet" href="src/reveal/css/reveal.min.css">
    <link rel="stylesheet" href="src/fullscreen-img/fullscreen-img.css">
    <link rel="stylesheet" href="src/reveal/css/theme/default.css" id="theme">

    <!-- For syntax highlighting -->
    <link rel="stylesheet" href="src/reveal/lib/css/zenburn.css">

    <!-- If the query includes 'print-pdf', use the PDF print sheet -->
    <script>
      document.write( '<link rel="stylesheet" href="src/reveal/css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );
    </script>

    <!--[if lt IE 9]>
    <script src="src/reveal/lib/js/html5shiv.js"></script>
    <![endif]-->
  </head>

  <body>

    <div class="reveal">

      <!-- Any section element inside of this container is displayed as a slide -->
      <div class="slides">

        <!-- Introduction -->
        <section>
          <h1>Drupal Speaks</h1>
          <h3>Aural user interfaces and how we're making Drupal 8 the most accessible CMS in the world</h3>
          <div style="display:table;width:100%">
            <p style="display:table-cell">
              <small>Jesse Beach<br />Senior Front End Developer<br /><a href="http://twitter.com/jessebeach" title="Twitter page for Jesse Beach">@jessebeach</a></small>
            </p>
            <p style="display:table-cell">
              <small>Wim Leers<br />Senior Software Engineer<br /><a href="http://twitter.com/wimleers" title="Twitter page for Wim Leers">@wimleers</a></small>
            </p>
          </div>
          <aside class="notes">
            <p>[Wim] Hi I'm Wim Leers.</p>
            <p>[Jesse] And I'm Jesse Beach. I work at Acquia on the Spark team as a front end developer.</p>
            <p>This is a session about making data and interactions accessible everyone.</p>
            <p>[Wim] So we're talking about accessibility, right?</p>
            <p>[Jesse] Yes, but first I must admit that I am not an accessibility expert.</p>
            <p>[Wim] And neither am I.</p>
            <p>[Jesse] What we are, are two front end developers with a passion for beautiful, usable and delightful UIs. And given that all of you out there — front-end developers, usability experts, UX designers, back-end developers, doc writers, community organizers — of course feel the same way, then we are all, therefore, concerned with accessibility. Because accessibility is about creating rich experiences for everyone.</p>
            <p>[Wim] A rich experience is one that anyone, regardless of the range of their abilities, finds satisfying. That means, given a task, they can understand what actions they need to undertake, how to undertake them, what the results of those actions are and that the task completed successfully or not.</p>
            <p>[Jesse] A rich experience is also one that provides awareness of possibilities and constraints, because as humans, we don't always know what we want to do until we've explored a bit.</p>
            <p>[Wim] We find inspiration through interaction and that is what a rich UI does, it inspires and encourages.</p>
          </aside>
        </section>

        <!-- Overview of accessibility in Drupal -->
        <section>
          <section>
            <h1>Isn't Drupal accessible already?</h1>
            <aside class="notes">
              <p>A question I think we're all asking is "Isn't Drupal accessible already?"</p>
              <p>[Jesse] Well, yes in a way. We, as a community, are quite aware of accessibility concerns.</p>
              <p>Note: The next few slides are meant to read quickly. They give us an overview of Drupal's current accessibility support and policies.</p>
            </aside>
          </section>
          <section>
            <blockquote cite="http://drupal.org/about/accessibility">As an inclusive community, we are committed to making sure that Drupal is an accessible tool for building websites that can also be accessed by people with disabilities.</blockquote>
            <aside class="notes">
              <p>[Jesse] We have a statement pledging that we are committed, as a community, to making Drupal accessible.</p>
            </aside>
          </section>
          <section>
            <h1>We have an accessibility checklist</h1>
            <div class="sources">
              <small><a href="http://drupal.org/node/465106">http://drupal.org/node/465106</a></small>
            </div>
          </section>
          <section>
            <ul>
              <li class="roll-in">All non-text content has alternative text</li>
              <li class="fragment">All data tables have headings</li>
              <li class="fragment">Users can complete and submit all forms</li>
              <li class="fragment">Links make sense out of context</li>
              <li class="fragment">Media has captions and/or transcripts</li>
              <li class="fragment">Non-HTML content is accessible</li>
              <li class="fragment">Users can skip repetitive elements on the page</li>
              <li class="fragment">Meaning is not conveyed through color alone</li>
              <li class="fragment">Content is clearly written and easy to read</li>
              <li class="fragment">JavaScript is accessible</li>
              <li class="fragment">The site complies to standards</li>
            </ul>
            <aside class="notes">
              <p>note: These items are all links. Add the links (from http://drupal.org/node/465106) when we port this to HTML.</p>
            </aside>
          </section>
          <section><h1>We have accessibility tags for issues</h1></section>
          <section>
            <p>+needs accessibility review</p>
            <p class="fragment roll-in">+needs color accessibility review</p>
            <p class="fragment roll-in">+a11y</p>
            <aside class="notes">
              <p>[Jesse] We have accessibility tags for issue queues.</p>
              <p>These tags are important as markers for issue reviewers to let them find issues that require accessibility work or testing.</p>
            </aside>
          </section>
          <section>
            <h1>Accessibility pledge</h1>
            <p>#D7AX</p>
            <p>#D8AX</p>
          </section>
          <section>
            <blockquote>I pledge to make this [module or theme] as accessible as it can be. If you find any flaws, please submit an issue [link to issue queue]. Help me fix them if you can.</blockquote>
            <div class="sources">
              <p><small><a href="http://drupal.org/node/394094">Accessibility tools and best practices</a></small></p>
              <p><small><a href="http://groups.drupal.org/node/66323">Accessibility pledge wiki</a></small></p>
            </div>
            <aside class="notes">
              [Jesse] We have an accessibility pledge for module maintainers.
            </aside>
          </section>
          <section fullscreen-img="images/pillow-fight.jpg" data-source="http://penningpanda.wordpress.com/2010/03/30/international-pillow-fight-day/">
            <aside class="notes">
              <p>Building accessible UIs takes effort. As web workers, we already have so much to think about. It's like being in a pillow fight. Everyone means well; they want to have fun. But it can get chaotic and messy very quickly.</p>
              <p>What we have tried to do in our work is provide tools and patterns in code, for module and theme developers. We also want to further expand the awareness of universal access among web developer. To show them that they can make accessible UIs a part of their daily workflow.</p>
            </aside>
          </section>
        </section>

        <!-- Redefining "interface" -->
        <section>
          <section>
            <h1>Interfaces give us access to information</h1>
          </section>
          <section>
            <h1>Interfaces are sensual</h1>
            <ul>
              <li class="fragment">Visual</li>
              <li class="fragment">Aural</li>
              <li class="fragment">Tactile</li>
              <li class="fragment">Every sense but taste and smell (so far)</li>
            </ul>
          </section>
          <section>
            <h1>Interface !== Visual</h1>
          </section>
          <section>
            <h1>Oh crap! Screen readers! Put in alt attributes!</h1>
            <aside class="notes">
              <p>We're trying to bolt non-visual experiences on a visually-biased medium.</p>
              <aside class="notes">
                <p>We're not building content-first, we're building non-visual second.</p>
              </aside>
            </aside>
          </section>
          <section>
            <h1>Visual is not primary</h1>
          </section>
        </section>

        <!-- Redefining  accessibility -->
        <section>
          <section>
            <h1>What is accessibility?</h1>
          </section>
          <section>
            <h1>Accessibility is the foundation of usability</h1>
          </section>
          <section>
            <h1>Three levels of doing accessibility</h1>
            <ul>
              <li class="fragment roll-in">The markup - automated testing</li>
              <li class="fragment roll-in">The ux - behavioral testing</li>
              <li class="fragment roll-in">The content - real-time feedback</li>
            </ul>
          </section>
        </section>

        <!-- Automated testing -->
        <section>
          <section>
            <h1>QUAIL</h1>
            <h2>Accessibility Information Library</h2>
            <aside class="notes">
              <p>Developed primarily by Kevin Miller with input from Dan Mouyard and Nick Schonning.</p>
              <p><a href="https://github.com/kevee/quail">Github repo</a></p>
              <p><a href="http://quailjs.org/">Project site</a></p>
              <p><a href="http://quailjs.org/js/quail/examples/wysiwyg/aloha.html">An example using the Aloha editor</a></p>
            </aside>
          </section>
          <section>
            <h1>Unleash the robots</h1>
            <a href="http://drupala11y.org/test-run/2013-07-14-000000">Automated testing</a>
          </section>
          <section>
            <h1>Codify best practice</h1>
            <a href="https://drupal.org/project/accessibility">Accessibility module</a>
          </section>
        </section>

        <!-- Behavioral testing -->
        <section>
          <section>
            <h1>Behavioral testing</h1>
            <h2>...or, check your ego.</h2>
          </section>
          <section>
            <h2>DrupalCamp Twin Cities testing sessions</h2>
            <p><a href="https://groups.drupal.org/node/311503">Study findings</a></p>
            <ul>
              <li>“Fairly accessible for speech/ keyboard for content consumption.”</li>
              <li>“I was able to complete tasks using only my keyboard”</li>
              <li>“That was truly a pain free testing experience.” using Dragon NaturallySpeaking11 Professional</li>
            </ul>
          </section>
          <section>
            <h2>Session recording highlights</h2>
            <p><a href="https://meetings.webex.com/collabs/meetings/playRecording?recordID=7676376&meetingInstanceID=I3JJLKAJJ5PHVPCQURU6MNXLFX-45V1">Testing content creation in Drupal</a></p>
            <ul>
              <li>28.00</li>
              <li>37.30</li>
              <li>47.10</li>
            </ul>
          </section>
        </section>

        <!-- Aural user interfaces and why we need to consider them -->
        <section>
          <section>
            <h1>Aural user interfaces</h1>
            <aside class="notes">
              <p>Our work regarding Drupal 8 accessibility has focused primarily on enabling aural user interfaces.</p>
              <p>Aural refers to the sense of hearing, just as visual refers to the sense of sight.</p>
            </aside>
          </section>
          <section>
            <h1>Drupal Speaks?</h1>
            <aside class="notes">
              <p>Yes, Drupal speaks!</p>
            </aside>
          </section>

          <section>
            <h1>You betcha!</h1>
            <h2>Let’s have a listen</h2>
            <aside class="notes">
              <p>Well, to be more precise, screen reading software speaks.</p>
            </aside>
          </section>

          <section>
            <iframe width="1024" height="768" src="http://www.youtube.com/embed/-GlDpNRBU-8" frameborder="0" allowfullscreen></iframe>
            <aside class="notes">
              <p>In this example, we'll see me using the tab key to navigate several interfaces within a typical Drupal page.</p>
            </aside>
          </section>

          <section>
            <h1>Why consider speech output?</h1>
            <h2>Isn't semantic HTML enough?</h2>
            <aside class="notes">
            </aside>
          </section>

          <section>
            <img src="images/visual-with-styling.png" />
            <aside class="notes">
            </aside>
          </section>

          <section>
            <img src="images/visual-no-styling.png" />
            <aside class="notes">
            </aside>
          </section>

          <section>
            <iframe width="1024" height="768" src="http://www.youtube.com/embed/D_HqFh63vGg" frameborder="0" allowfullscreen></iframe>
            <aside class="notes">
              <p>This video is meant to provide a stark example of what a complex interface interaction feels like when we remove the visual component.</p>
              <p>NOTE: We're picking on the Tour module. It's meant to prove a point. Lots of aural UI in Drupal needs work and I had to pick something to illustrate this.</p>
              <p>Now that example was intentionally long and intentionally without visuals to provide a really stark illustration of how quickly one can become lost in an interface; lose a sense of what the original intent was and where the interaction ends.</p>
            </aside>
          </section>

          <section>
            <h2>Tour module tooltip markup</h2>
            <pre><code data-trim class="html">
&lt;div data-index="0"&gt;
  &lt;div role="dialog" aria-labelledby="tour-tip-views-ui-displays-label" aria-describedby="tour-tip-views-ui-displays-contents"&gt;
    &lt;h2 id="tour-tip-views-ui-displays-label"&gt;Displays&lt;/h2&gt;
    &lt;p id="tour-tip-views-ui-displays-contents"&gt;A view can consist of multiple displays.&lt;/p&gt;
    &lt;div class="tour-progress"&gt;1 of 10&lt;/div&gt;
    &lt;a href="#" class="joyride-next-tip"&gt;Next&lt;/a&gt;
    &lt;a href="#close" class="joyride-close-tip"&gt;X&lt;/a&gt;
  &lt;/div&gt;
&lt;/div&gt;
            </code></pre>
          </section>

          <section>
            <h1>The accessible-to-usable scale</h1>
          </section>
          <section>
            <img src="images/accessibility-scale.png" />
            <aside class="notes">
              <p>In trying to determine the scale of the effort to bring the aural experience of Drupal's interface up to the same level of polish of the visual UI, we wanted to understand just how far apart they might be.</p>
              <p>So we put together this chart that plots the visual and aural UI experiences from a lower bound of inaccessible (a value of 0) to an upper bound of delightful interaction (a value of 4).</p>
              <p>We might say that the visual content consumption experience of Drupal ranges from 2.5 to 3.5.</p>
              <p>The visual site administration experience ranges from a 2 to 3.5</p>
              <p>The aural content consumption experience ranges from 1.5 to 3</p>
              <p>The aural site administration experience ranges from 0 to 3</p>
              <p>We propose that the aural site administration experience -- managing content, managing views, configuring a site -- has the most variability in experience within Drupal.</p>
              <p>As developers, we have tended to focus our accessibility improvements on static markup which is important, but it's only half the story.</p>
              <p>We want to pull the lower bound of the aural UI experience at least up to accessible for all administrative pages and push the upper bound closer to delightful.</p>
            </aside>
          </section>
        </section>

        <section>
          <section>
            <h1>Accessibility for everyone</h1>
            <aside class="notes">
              <p>We are no longer just talking about baseline accessibility. Only after we have made an interface accessible, can we start to improve usability.</p>
              <p>I think the bias of sighted people is to assume that visual interfaces are accessible so much so that we rarely talk about the accessibility of visual interfaces.</p>
              <p>Accessibility is wrongly used as a synonym for non-visual UIs; for the extra markup; for the development we might get around to if there is enough time in the project.</p>
              <p>We must stop thinking like this.</p>
              <p>Our jobs, our passion, is making information accessible, to everyone.</p>
              <p></p>
            </aside>
          </section>
          <section>
            <h1>dynamic applications undergo state and property changes.</h1>
            <aside class="notes">
              <p>Semantic markup is mostly sufficient to render a content consumption, such as reading an article, accessible.</p>
              <p>As we build better site maintenance and content management tools into Drupal, semantic markup is no longer sufficient.</p>
            </aside>
          </section>
          <section>
            <iframe width="1024" height="768" src="http://www.youtube.com/embed/wqmEYhe2JZ0" frameborder="0" allowfullscreen></iframe>
            <aside class="notes">
              <p>[Jesse] Take for example infinite scrolling. Page content is updated dynamically as the user scrolls a page. Ideally, this would not only be visually indicated. It would be indicated through aural updates as well.</p>
            </aside>
          </section>
          <section>
            <h1>those changes must be <em>expressed</em></h1>
            <aside class="notes">
            </aside>
          </section>
          <section>
            <h1>we build <em>interfaces</em></h1>
            <aside class="notes">
            </aside>
          </section>
          <section>
            <h1>for <em>everyone</em></h1>
            <aside class="notes">
            </aside>
          </section>
          <section>
            <h1>so how do we do it?</h1>
            <aside class="notes">
            </aside>
          </section>
          <section>
            <h1><em>show</em> and <em>announce</em> the changes</h1>
            <aside class="notes">
            </aside>
          </section>
          <section>
            <iframe width="1024" height="768" src="http://www.youtube.com/embed/xfdQYToZ9No" frameborder="0" allowfullscreen></iframe>
            <aside class="notes">
              <p>This video will demonstrate how tabbing constraints and audio announcements are used in Drupal 8.</p>
              <p>The will move from a context of a basic page, to edit mode being enabled. In edit mode, only the contextual links on entities are a available via tabbing.</p>
              <p>The user will then edit an entity. The tabbing context will shift to that of elements in the overlay and toolbar.</p>
              <p>Closing the overlay will return the tabbing context to the contextual links. Disabling edit mode will return the tabbing context to that of the full page.</p>
            </aside>
          </section>
          <section>
            <h1>Rich experience for everyone</h1>
            <aside class="notes">
              <p>Rather than accessibility for some, we must talk about rich experiences for everyone. This phrase comes from Everett Zufelt.</p>
              <p>We have teams of UX professionals thinking about visual presentation patterns. We fret over color and placement, animation and typography.</p>
              <p>I want to see us put the same effort into designing audio prompts, keyboard shortcut bindings and voice interations because these are interfaces, too.</p>
            </aside>
          </section>
        </section>

        <section>
          <section>
            <h1>ARIA</h1>
            <h2>Accessible Rich Internet Applications</h2>
            <aside class="notes">
              <p>So let's move from our brief introduction to accessibility in Drupal to the work currently underway to make it even better.</p>
              <p>[Wim] Modern UIs are complex. As we introduce just-in-time information and dynamically updating pages, we also introduce new design patterns to express to the user that their page contents have changed: spinner icons, quick flashes of color, shifting boxes, fade in effects. Almost exclusively, these indicators are visual. While we were helping to improve authoring experience tools for Drupal 8, we realized that Drupal is, too, evolving into a complex and dynamic front end application. That we need to express to the user when and how their interface has updated. And that we need to do this within Drupal's guidelines. We can't only express updates visually because for users who are blind, our UIs are frustratingly silent about what's going on.</p>
              <p>We use ARIA attributes to represent through markup what you are accustomed to representing through visual language.</p>
            </aside>
          </section>
          <section>
            <h2>States like</h2>
            <ul>
              <li class="fragment roll-in">active</li>
              <li class="fragment roll-in">disabled</li>
              <li class="fragment roll-in">pressed</li>
            </ul>
          </section>
          <section>
            <h2>Properties like</h2>
            <ul>
              <li class="fragment roll-in">label</li>
              <li class="fragment roll-in">form</li>
              <li class="fragment roll-in">dialog</li>
            </ul>
          </section>
          <section>
            <!-- copy and paste. Modify height and width if desired. -->
           <object id="scPlayer"  width="685" height="253" type="application/x-shockwave-flash" data="http://content.screencast.com/users/jessebeach/folders/Jing/media/30c4d79a-cbca-4b81-9a61-3723fcacc8e7/jingswfplayer.swf" >
            <param name="movie" value="http://content.screencast.com/users/jessebeach/folders/Jing/media/30c4d79a-cbca-4b81-9a61-3723fcacc8e7/jingswfplayer.swf" />
            <param name="quality" value="high" />
            <param name="bgcolor" value="#FFFFFF" />
            <param name="flashVars" value="thumb=http://content.screencast.com/users/jessebeach/folders/Jing/media/30c4d79a-cbca-4b81-9a61-3723fcacc8e7/FirstFrame.jpg&containerwidth=685&containerheight=253&content=http://content.screencast.com/users/jessebeach/folders/Jing/media/30c4d79a-cbca-4b81-9a61-3723fcacc8e7/00000050.swf&blurover=false" />
            <param name="allowFullScreen" value="true" />
            <param name="scale" value="showall" />
            <param name="allowScriptAccess" value="always" />
            <param name="base" value="http://content.screencast.com/users/jessebeach/folders/Jing/media/30c4d79a-cbca-4b81-9a61-3723fcacc8e7/" />
            Unable to display content. Adobe Flash is required.
            </object>
            <aside class="notes">
              <p>In this video we show the following snippet of code change when the user clicks the Menu button in the Drupal 8 toolbar.</p>
              <pre><code>
&lt;a href="/admin" title="Admin menu" class="icon icon-menu toolbar-tab" id="toolbar-item--2" data-toolbar-tray="toolbar-item--2-tray" aria-owns="toolbar-item--2" role="button" aria-pressed="false"&gt;Menu&lt;/a&gt;
              </code></pre>
              <p>The aria-pressed attribute toggles between false and true as the button is toggled off and on.</p>
            </aside>
          </section>
          <section>
            <h1>ARIA-Live</h1>
            <p class="fragment">Describes an HTML element that reads its contents when those contents are altered.</p>
          </section>
          <section>
            <pre><code data-trim contenteditable class="html">&lt;div aria-live="polite" class="element-hidden"&gt;
  some text to speak
&lt;/div&gt;</code></pre>
          </section>
          <aside class="notes">
            <p>Describes an HTML element that reads its contents when those contents are altered.</p>
          </aside>
        </section>

        <section>
          <section>
            <h1>Express changes aurally</h1>
            <h2>Drupal.announce</h2>
            <aside class="notes">
              <p>In Drupal 8, we provide a simple way to turn text into speech.</p>
              <p>The Drupal.announce function was first brought up at the Drupal Camp Toronto accessibility sprint in the fall of 2012.</p>
              <p>We need a way to express changes in the state of the toolbar that could not be described with existing aria state markup.</p>
              <p>An example is whether or not a toolbar tray is open when a tab in the toolbar is toggled.</p>
              <p>It quickly became obvious that many modules in Drupal would benefit from a system that could read arbitrary strings through the screen reader.</p>
              <p>It wasn't until the later winter of 2013 that we put together the first prototype of the Drupal.announce function.</p>
            </aside>
          </section>
          <section>
            <pre><code data-trim contenteditable class="javascript">
  // Pass a string.
  Drupal.announce('The application has been updated.');

  // Make sure the string is translatable.
  Drupal.announce(
    Drupal.t('The application has been updated.')
  );
            </code></pre>
            <aside class="notes">
              <p>We invoke the Drupal.announce function by passing it a string that will be read by the screen reader.</p>
            </aside>
          </section>

          <section>
            <pre><code data-trim contenteditable class="html">
&lt;body&gt;
  ...
  &lt;div id="drupal-live-announce" class="element-invisible" aria-live="polite" aria-busy="false"&gt;The application has been updated.&lt;/div&gt;
&lt;/body&gt;
            </code></pre>
            <aside class="notes">
              <p>Drupal.announce manages a hidden div on the body tag. When the text of this tag is changed, the screen reader reads the new text.</p>
            </aside>
          </section>
          <section>
            <h2>Quick successive calls</h2>
            <pre><code data-trim contenteditable class="html">&lt;script&gt;
// Quick successive calls will concatenate.
Drupal.announce(Drupal.t('Freegan before they sold out polaroid.'));
Drupal.announce(Drupal.t('Pitchfork letterpress polaroid four.'));
Drupal.announce(Drupal.t('Cardigan cosby sweater fanny pack.'));
&lt;/script&gt;

&lt;div id="drupal-live-announce" class="element-invisible" aria-live="polite" aria-busy="false"&gt;
Freegan before they sold out polaroid.
Pitchfork letterpress polaroid four.
Cardigan cosby sweater fanny pack.
&lt;/div&gt;</code></pre>
          </section>

          <section>
            <h1>Wait, doesn't this accessibility feature depend on JavaScript?</h1>
            <aside class="notes">
              <p>Not really. Drupal.announce is only necessary for dynamic applications and those will already be dependent on Javascript.</p>
              <p>More importantly, JavaScript use among people who also use a screen reader is nearly 100%.</p>
            </aside>
          </section>

          <section>
            <table style="border: 1px solid gray; margin: 0 auto">
              <thead>
                <tr>
                  <th style="width: 60%; border-bottom: 1px solid white">JavaScript enabled</th>
                  <th style="border-bottom: 1px solid white">Respondents</th>
                </tr>
              </thead>
              <tbody >
                <tr >
                  <td>Yes</td>
                  <td>98.6%</td>
                </tr>
                <tr>
                  <td>No</td>
                  <td>1.4%</td>
                </tr>
              </tbody>
            </table>
            <div style="margin-top: 2em" class="sources">
              <h6>Source</h6>
              <small><a href="http://webaim.org/projects/screenreadersurvey4/">WebAIM 2012 Survery</a></small>
            </div>
            <aside class="notes">
              <p>The rate of users that employ a screen reader and who have JavaScript enabled is about the same as those who don't a screen reader.</p>
              <p>http://developer.yahoo.com/blogs/ydn/many-users-javascript-disabled-14121.html</p>
            </aside>
          </section>
        </section>

        <section>
          <section>
            <h1>Guide the flow</h1>
            <h2>Drupal.TabbingManager</h2>
            <aside class="notes">
              <p>[Wim] Jesse explained an important component for accessible dynamic pages in Drupal 8 that she got committed: Drupal dot announce.</p>
              <p>That was about aural updates, about communicating change. What's also important, is to assist in keyboard navigation, to guide the flow of the user throughout your application, throughout Drupal.</p>
              <p>This benefits both screen reader users and power users that prefer keyboard navigation</p>
              <p>That brings us to the other big accessibility component: the tabbing manager. Both of us worked to get this in Drupal core.</p>
            </aside>
          </section>
          <section>
            <h2>Why Drupal.TabbingManager?</h2>
            <div class="fragment">
              <blockquote>Depending upon the action to be performed by the dialog, the object with focus before the dialog box is opened should be saved. This will allow restoring focus to this element when the dialog box is closed.</blockquote>
              <div class="sources">
              <small><a href="http://www.w3.org/TR/wai-aria-practices/#modal_dialog">http://www.w3.org/TR/wai-aria-practices/#modal_dialog</a></small>
              </div>
            </div>
            <aside class="notes">
              <p>[Wim] This is quote from the spec. What it basically says is "x and y should happen". But it does not specify <em>how</em> that should happen.<br>
              So, basically the spec says: "figure it out yourself"…</p>
              <p>This might lead you think that this is rather messy … and you would be absolutely right!</p>
            </aside>
          </section>
          <section>
            <h2>Managing tabbing is <em>difficult</em></h2>
            <aside class="notes">
              <p>[Wim] What we want to avoid is putting the responsibility of tabbing management on every individual contributed module that might need it. (We had to solve it for in-place editing and the Drupal 8 toolbar.)</p>
              <p>The overlay module already had code to deal with this. What we did, was pull it out of there, and make it possible to use it for more advanced use cases.</p>
            </aside>
          </section>
          <section>
            <h2>What?</h2>
            <blockquote>Constrain tabbable elements to just those necessary to complete a task.</blockquote>
            <aside class="notes">
              <p>[Wim] The essence of the tabbing manager is just this: constrain tabbing (i.e. keyboard navigation) to potentially relevant elements only.</p>
          </section>
          <section>
            <h2>Overlay module</h2>
            <img src="images/devel_a11y/tabbingmanager.visualize.png" alt="Screenshot of Overlay module's constrained tabbing — visualized by devel_a11y." />
            <aside class="notes">
              <p>[Wim] Here we see a visualization of which elements are reachable via tabbing in the overlay. It is only possible to tab to either the toolbar buttons or any of the elements within the overlay. It is impossible to reach elements on the underlying page — elements that were reachable before opening the overlay.</p>
            </aside>
          </section>

          <section>
            <h1>How-to: tabbing management</h1>
            <p>Using <code>Drupal.TabbingManager</code>.</p>
          </section>
          <section>
            <h2>Apply tabbing constraint</h2>
            <p>Using a core API rather than reinventing.</p>
            <div class="fragment">
              <pre><code data-trim contenteditable class="javascript">manageTabbing: function () {
  var tabbingContext = this.model.get('tabbingContext');

  // Always release an existing tabbing context.
  if (tabbingContext) {
    tabbingContext.release();
  }

  // Create a new tabbing context when edit mode is enabled.
  if (!this.model.get('isViewing')) {
    tabbingContext = Drupal.tabbingManager.constrain($('.contextual-toolbar-tab, .contextual'));
    this.model.set('tabbingContext', tabbingContext);
  }
}</code></pre>
            <p><small>Example from <code>contextual.module</code>.</small></p>
            <aside class="notes">
              <p>[Wim] Let's first look at the code within the if-test at the bottom. That's where a tabbing constraint gets applied. We call Drupal dot tabbingManager dot constrain, with a selector for the elements that should be tabbable.<br />
              The constrain method returns a "tabbing context". Tabbing contexts are the building blocks that the tabbing manager uses to keep track of things. We store a reference to it.
              </p>
              <p>Now let's look at the rest of the function. Let's start at the top. First, a reference to the existing tabbing context (if any) is retrieved. Then, if there indeed is a tabbing context, we release it. Finally, if the "is viewing" variable equals false, we apply a new tabbing constraint.</p>
              <p>Looking at the whole, this method gets called whenever the "is viewing" variable's value changes (from true to false or vice versa). The existing tabbing constraint is always released. A new tabbing constraint is applied if the value for "is viewing" equals false, which means that the pencil icon (also known as "edit mode") is toggled in the toolbar.</p>
            </aside>
            </div>
          </section>
          <section>
            <h2>Announce the details of the constraint</h2>
            <p>Using <code>Drupal.announce</code>.</p>
            <div class="fragment">
              <pre><code data-trim contenteditable class="javascript">announceTabbingConstraint: function () {
  var args =  {
    '@contextualsCount': Drupal.formatPlural(Drupal.contextual.collection.length, '@count contextual link', '@count contextual links')
  };

  Drupal.announce(Drupal.t('Tabbing is constrained to a set of @contextualsCount and the edit mode toggle.', args));
  Drupal.announce(Drupal.t('Press the esc key to exit.'));
},</code></pre>
              <p><small>Example from <code>contextual.module</code>.</small></p>
              <aside class="notes">
                <p>[Wim] Now, it's important to not forget to announce tabbing constraints. We can do that with the component that Jesse explained just now: Drupal dot announce.</p>
                <p>We announce: 1) that tabbing is constrained, 2) to which elements it is constrained, 3) a keyboard shortcut that is highly relevant to the user: one to cancel the tabbing constraint.</p>
              </aside>
            </div>
          </section>
          <section>
            <h2>Complex tabbing flows</h2>
            <p>Tabbing contexts can be stacked and popped as a user moves between task flows, even between modules.</p>
            <aside class="notes">
              <p>[Wim] Something that Jesse and I found very important, is to ensure that multiple modules can each have tabbing constraints simultaneously, without running into problems. Otherwise, Drupal contrib would not be able to use the tabbing manager in practice.</p>
              <p>For example: the user can navigate to the edit mode toggle in the toolbar, toggle it and then tabbing is constrained to contextual links. The user can then tab from one contextual link to the next, and open them. If the user were to start in-place editing from one of those contextual links, then the in-place editing functionality would apply a new tabbing constraint (that gets stacked on top of the previous one). When stopping in-place editing, the contextual links tabbing constraint will be applied again. (The in-place editing tabbing constraint was popped.)</p>
            </aside>
          </section>
          <section>
            <iframe width="1024" height="768" src="http://www.youtube.com/embed/Znu0ZFB1GA0" frameborder="0" allowfullscreen></iframe>
            <aside class="notes">
              <p>[Wim] Let's have another look at how tabbing is constrained when the user enables edit mode and then opens the overlay. Note how the edit mode tabbing constraint is restored after the overlay tabbing constraint context is removed.</p>
            </aside>
          </section>
        </section>

        <section>
          <section>
            <h1>Embrace <b>modalities</b></h1>
            <h2>Backbone.js</h2>
            <aside class="notes">
              <p>[Wim] We want all Drupal developers to embrace modalities.</p>
              <p>A modality refers to the medium that we use to access information. That medium may be visual, it may be aural; it might be through touch as well.</p>
              <p>We can account for modalities in our code. That's we've begun to do in Drupal 8 core.</p>
              <p>To do that, we're leveraging Backbone.js</p>
            </aside>
          </section>
          <section>
            <blockquote>The essential premise at the heart of Backbone has always been to try and <b style="text-decoration: underline">discover the minimal set of data-structuring</b> (Models and Collections) and user interface (Views and URLs) primitives that are useful when building web applications with JavaScript.</blockquote>
            <div class="sources">
              <small><a href="http://ashkenas.com/backbonejs-1.0/">Jeremy Ashkenas — http://ashkenas.com/backbonejs-1.0/</a></small>
            </div>
            <aside class="notes">
              <p>[Wim] Why Backbone?</p>
              <p>No special reason.</p>
              <p>We don't want to impose a certain highly restrictive structure on Drupal JavaScript, nor does Backbone.</p>
            </aside>
          </section>
          <section>
            <h2>Framework doesn't matter</h2>
          </section>
          <section>
            <h2>Separation of concerns matters</h2>
          </section>
          <section>
            <h2>Before Drupal 8</h2>
            <p class="fragment">event handlers<span class="fragment"> ⟶ rendering</span> <span class="fragment"> ⟶ debug hell</span></p>
            <aside class="notes">
              <p>[Wim] DOM event handlers <em>directly</em> performed rendering (i.e. DOM modifications). This made debugging very hard, painful, frustrating …</p>
            </aside>
          </section>
          <section>
            <h2>Now in Drupal 8</h2>
            <p class="fragment">events<span class="fragment"> ⟶ state</span></p>
            <p class="fragment">state<span class="fragment"> ⟶ rendering</span></p>
            <p class="fragment" style="margin-top: 1em">developer<span class="fragment"> ⟶ happy</span></p>
            <aside class="notes">
              <ul>
                <li>[Wim] Most (if not all) JS benefits from its state being updated via events, and then things being rerendered in response to those state changes.</li>
                <li>No more subtle edge cases.</li>
                <li>Separation of concerns invites better/completer docs.</li>
                <li>Pre-Drupal 8 JS is often very complex to evolve, and to somebody who never saw the code, nigh impossible to understand all edge cases.</li>
                <li>So: Backbone because it's widely used, many docs, concise. It tries to do little!</li>
                <li>Finally: easy to refactor Backbone code to another framework.</li>
              </ul>
            </aside>
          </section>
          <section>
            <img src="images/backbone.png" alt="A schema explaining the different components of Backbone. Relevant parts to us: data &amp; state are modeled in Backbone Models. Backbone Models of the same type may be grouped in Backbone Collections if that is useful for the use case. Backbone Models are connected to Backbone Views via model event bindings, so that Backbone Views are able to update themselves whenever the data/state changes. A View is typically bound to a DOM element, within which it renders itself." />
            <p><small>Source: <a href="http://kiranb.scripts.mit.edu/backbone-slides/#compenents-diagram">http://kiranb.scripts.mit.edu/backbone-slides/</a></small></p>
            <aside class="notes">
              <p>Note that in Backbone.js, the View is a combination of a View and Controller in the MVC pattern. The Models are intentionally kept stupid, to make it easy to link them with more Views. Since the DOM also combines rendering (HTML elements rendered in a certain way) and event handling (DOM events), and the View is the connection to the DOM, this feels natural.<br />
              However, if you prefer a full separation, then it's entirely possible to have Views that are solely listening for events and updating the bound Model, and separate Views that are responsible for rendering.</p>
            </aside>
          </section>
          <section>
            <h2>Example</h2>
            <pre><code class="javascript">function toggleEditMode (event, data) {
  for (var i = contextuals.length - 1; i >= 0; i--) {
    contextuals[i][(data.status) ? 'detachHighlightBehaviors' : 'attachHighlightBehaviors']();
    contextuals[i].$region.toggleClass('contextual-region-active', data.status);
  }
  }</code></pre>
            <p>versus</p>
            <pre><code class="javascript">_toggleEditMode: function (event, data) {
  Drupal.contextual.collection.each(function (model) {
    model.set('isLocked', data.status);
  });
  }</code></pre>
            <aside class="notes">
              <ul>
                <li>[Wim] The top piece of code shows a part of Drupal 8's contextual links JavaScript before conversion to Backbone. It's a DOM event handler. It iterates over an array containing all contextual links, and immediately modifies the DOM (on the last line).</li>
                <li>The bottom piece of code shows the same function, after conversion to Backbone. It iterates over a Backbone Collection containing Backbone Models — one for each contextual link on the page — and sets a certain attribute on each model. There is a Backbone View that reacts to these model changes and modifies the DOM. Separation of concerns.</li>
              </ul>
            </aside>
          </section>
          <section>
            <h1>How-to: Backbone.js for better accessibility</h1>
          </section>
          <section>
            <h1>one <em>model</em>,<br />many <em>views</em></h1>
            <aside class="notes">
              <p>[Wim] We are using Backbone to formalize modal interactions: one model to track state, and a view for each modality.</p>
            </aside>
          </section>
          <section>
            <h2>Step 1: create a model</h2>
            <p>Contains state, is stupid. Views update it.</p>
            <div class="fragment">
              <pre><code class="javascript">Drupal.contextualToolbar.Model = Backbone.Model.extend({
  defaults: {
    // Whether the toggle is currently in "view" or "edit" mode.
    isViewing: true,
    // Whether the toggle should be visible or hidden.
    isVisible: false,
    // A TabbingContext object as returned by Drupal.TabbingManager:
    // the set of tabbable elements when edit mode is enabled.
    tabbingContext: null
  }
});
</code></pre>
              <p><small>Example from <code>contextual.module</code>.</small></p>
              <aside class="notes">
                <p>[We might want to add a transcript here too.]</p>
            </div>
          </section>
          <section>
            <h2>Step 2: create a visual view</h2>
            <p>99.9% of sites need visual output &amp; mouse + touch input.</p>
            <div class="fragment">
              <pre><code class="javascript">Drupal.contextualToolbar.VisualView = Backbone.View.extend({
  events: {
    'click': function () {
      this.model.set('isViewing', !this.model.get('isViewing')),
    }
  },
  initialize: function () {
    this.model.on('change', this.render, this);
  },
  render: function () {
    var $el = this.el;
    var m = this.model;
    $el.toggleClass('element-hidden', !m.get('isVisible'));
    $el.find('button').toggleClass('active', !m.get('isViewing'));
    return this;
  }
});
</code></pre>
              <p><small>Example from <code>contextual.module</code>.</small></p>
            </div>
          </section>
          <section>
            <h2>Step 3: create a keyboard view</h2>
            <p>For screen reader users &amp; power users: keyboard input.</p>
            <div class="fragment">
              <pre><code class="javascript">Drupal.contextualToolbar.KeyboardView = Backbone.View.extend({
  // …
});</code></pre>
              <p style="margin-top: 3em; font-style: italic">Unnecessary here: the <code>click</code> event in the <code>VisualView</code> already works with keyboard input. We don't need <code>focus</code> or <code>blur</code>.</p>
            </div>
          </section>
          <section>
            <h2>Step 4: create an aural view</h2>
            <p>For screen reader users: aural output.</small></p>
            <div class="fragment">
              <pre><code class="javascript">Drupal.contextualToolbar.AuralView = Backbone.View.extend({
  initialize: function () {
    this.model.on('change', this.render, this);
    this.model.on('change:isViewing', this.manageTabbing, this);
  },
  render: function () {
    var $el = this.el;
    var m = this.model;
    $el.find('button').attr('aria-pressed', !m.get('isViewing'));
    return this;
  },
  manageTabbing: function () {
    // See TabbingManager example.
    Drupal.announce('&lt;a relevant, explanatory message&gt;');
  }
});
</code></pre>
              <p><small>Example from <code>contextual.module</code>.</small></p>
              <aside class="notes">
                <p>As a general rule: a Backbone View must receive two things: a Backbone Model and its "root" DOM element.</p>
                <p>This is our current advised best-practice: create a Visual View that covers the needs of >90% of the users — being visual output and mouse + touch handling. Then the developer may add a Keyboard View to support keyboard navigation. And finally, the developer may add an Aural View, to provide auditive feedback via Drupal.announce and set the appropriate ARIA attributes.</p>
                <p>In other words: we don't want to force every developer to create an Aural View. We just want to make it as easy as possible to support it.</p>
              </aside>

            </div>
          </section>
          <section>
            <h2>All done!</h2>
            <p>Everything remains in sync!</p>
            <p>Just like that.</p>
          </section>
          <section>
            <h2>Proposed best practice</h2>
            <p>Evolving as we develop more complex interactions</p>
            <aside class="notes">
              <p>[Wim] As Drupal developers, we are all responsible for best practices.</p>
              <p>Since these types of UIs are new (to us at least) we're going to have numerous breakthroughs that replace our previous best practices.</p>
            </aside>
          </section>
        </section>

        <section>
          <section>
            <h1>Devel accessibility</h1>
          </section>
          <section>
            <h2>Not familiar with using a screen reader?</h2>
          </section>
          <section>
            <h2><code>console.log</code> announcements</h2>
            <img src="images/devel_a11y/drupal.announce.log.png" alt="Screenshot of devel_a11y's ability to log announcements via Drupal.announce to the browser's console." />
            <aside class="notes">
              <p>[Wim] It supports logging <code>Drupal.announce</code>ments.</p>
            </aside>
          </section>
          <section>
            <h2>Visualize tabbing constraints</h2>
            <img src="images/devel_a11y/tabbingmanager.visualize.png" alt="Screenshot of devel_a11y's ability to visualize tabbing constraints defined by the TabbingManager." />
            <aside class="notes">
              <p>[Wim] And it supports both logging and visualizing <code>Drupal.TabbingManager</code> tabbing constraints. A CSS animation occurs whenever the tabbing constraints change, tabbable elements have a red box shadow, the currently focused tabbable element has a green box shadow.</p>
            </aside>
          </section>
          <section>
            <p><a href="http://drupal.org/project/devel_a11y" title="Link to the Devel accessibility module's project page on drupal.org.">http://drupal.org/project/devel_a11y</a></p>
          </section>
        </section>

        <section>
          <section>
            <h1>a UI is <i>sight</i>, and <i>sound</i> and <i>touch</i></h1>
            <aside class="notes">
              <p>So to conclude...</p>
            </aside>
          </section>

          <section>
            <h1>Drupal 8 will communicate with each sense</h1>
            <aside class="notes">
            </aside>
          </section>

          <section>
            <h1>using shared tools and a structured framework</h1>
          </section>

          <section>
            <h1>and <i>your</i> module?</h1>
            <aside class="notes">
            </aside>
          </section>
        </section>

        <section>
          <section>
            <h1>References</h1>
          </section>
          <section>
            <ol>
              <li>Screen Reader User Survey #4. 2013. http://webaim.org/projects/screenreadersurvey4/</li>
              <li>http://kiranb.scripts.mit.edu/backbone-slides/#compenents-diagram</li>
            </ol>
          </section>
          <aside class="notes">
          </aside>
        </section>

        <section>
          <section>
            <h1>Resources</h1>
          </section>
          <section>
            <ol>
              <li>http://previousnext.com.au/blog/so-you-want-be-accessible</li>
              <li>http://squizlabs.github.io/HTML_CodeSniffer/</li>
              <li>http://webaim.org/projects/screenreadersurvey4/</li>
              <li><a href="http://penningpanda.wordpress.com/2010/03/30/international-pillow-fight-day/">Pillow fight</a></li>
            </ol>
          </section>
          <aside class="notes">
          </aside>
        </section>

        <section>
          <h2>How do we make aural UIs informative without being annoying?</h2>
          <p>Listening to long instruction sentences gets annoying if they don't introduce more info and just repeat the same thing on every page.  Eventually, one might want to turn off these audio announcements.</p>
          <aside class="notes">
          </aside>
        </section>

        <section>
          <section>
            <h1>HELP US IMPROVE</h1>
          </section>
          <section>
            <p>Help us improve Acquia products by taking part in UX research. Get a sneak peak at new Acquia offerings, try things out and give us your feedback.</p>
          </section>
          <section>
            <p><strong>And, we compensate our participants!</strong></p>
            <p>Studies are conducted remotely; no travel required.</p>
          </section>
          <section>
            <p>Interested? Sign up at <a href="http://usability.acquia.com">usability.acquia.com</a>, contact us at <a href="mailto:uxresearch@acquia.com">uxresearch@acquia.com</a> or find speak to Lisa Rex.</p>
          </section>
        </section>

      </div>

    </div>

    <script src="src/reveal/lib/js/head.min.js"></script>
    <script src="src/reveal/js/reveal.min.js"></script>

    <script>

      // Full list of configuration options available here:
      // https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        controls: true,
        progress: true,
        history: true,
        center: true,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: '100%',
        height: '100%',

        // Factor of the display size that should remain empty around the content
        margin: 0.05,

        theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
        transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none

        // Optional libraries used to extend on reveal.js
        dependencies: [
          { src: 'src/fullscreen-img/fullscreen-img.js'},
          { src: 'src/reveal/lib/js/classList.js', condition: function() { return !document.body.classList; } },
          { src: 'src/reveal/plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: 'src/reveal/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: 'src/reveal/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
          { src: 'src/reveal/plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
          { src: 'src/reveal/plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
          // { src: 'src/reveal/plugin/search/search.js', async: true, condition: function() { return !!document.body.classList; } }
          // { src: 'src/reveal/plugin/remotes/remotes.js', async: true, condition: function() { return !!document.body.classList; } }
        ]
      });

    </script>

  </body>
</html>
